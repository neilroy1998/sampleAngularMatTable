<div class="table-container">
	<h1>Table</h1>

	<button (click)="addRow()">Add Row</button>
	<button (click)="logData()" >Log</button>

	<form [formGroup]="tableFormGroup">

		<table mat-table matSort #matTableSchool formArrayName="rows" [dataSource]="tableData" class="mat-elevation-z8">

<!--		SECTION action-->
		<ng-container matColumnDef="action">
			<th mat-header-cell *matHeaderCellDef>  </th>
			<td mat-cell *matCellDef="let row; let i = index">
				<button mat-button (click)="logger(i)"
						[disabled]="tableFormGroup.get('rows').get(i.toString())?.invalid">
					Submit
				</button>
			</td>
		</ng-container>

<!--		SECTION Name-->
		<ng-container matColumnDef="name">
			<th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
			<td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
				<input type="text" formControlName="name">
			</td>
		</ng-container>

		<!--		SECTION Sub-->
		<ng-container matColumnDef="subject">
			<th mat-header-cell *matHeaderCellDef> Sub </th>
			<td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
				<input type="text" formControlName="subject">
			</td>
		</ng-container>

		<!--		SECTION Marks-->
		<ng-container matColumnDef="marks">
			<th mat-header-cell *matHeaderCellDef> Marks </th>
			<td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
				<input type="number" formControlName="marks">
			</td>
		</ng-container>

		<!--		SECTION Name-->
		<ng-container matColumnDef="passed">
			<th mat-header-cell *matHeaderCellDef> Passed </th>
			<td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
				<input type="checkbox" formControlName="passed">
			</td>
		</ng-container>


<!--		SECTION definitions-->
		<tr mat-header-row *matHeaderRowDef="displayedCols"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedCols;"></tr>
	</table>

	</form>
</div>
